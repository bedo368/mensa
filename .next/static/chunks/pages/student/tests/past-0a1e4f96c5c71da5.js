(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[406],{4910:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/student/tests/past",function(){return r(9219)}])},9219:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(4848),l=r(6540),a=r(1106),c=r.n(a),n=r(4040),d=r.n(n);function i(){let[e,t]=(0,l.useState)([]),[r,a]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{(async()=>{let e=localStorage.getItem("token");if(!e){alert("الرجاء تسجيل الدخول لرؤية الاختبارات الخاصة بك.");return}try{let r=d().decode(e).id;if(!r){alert("لا يمكن العثور على معرّف الطالب.");return}let s=await fetch("/api/student-tests/".concat(r));if(s.ok){let e=await s.json();t(e)}else console.error("فشل في جلب الاختبارات المكتملة.")}catch(e){console.error("خطأ أثناء جلب الاختبارات:",e)}finally{a(!1)}})()},[]),r)?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)("p",{className:"text-xl text-gray-700",children:"جاري تحميل بيانات الاختبارات..."})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-purple-200 to-purple-400 px-4 py-8",children:[(0,s.jsx)("nav",{className:"bg-white shadow-md py-6",children:(0,s.jsx)("div",{className:"container mx-auto flex justify-between items-center px-6",children:(0,s.jsx)("h1",{className:"text-2xl font-extrabold text-blue-600",children:(0,s.jsx)(c(),{href:"/",children:"المنصة التعليمية لمنهج الدراسات رابعة ابتدائي"})})})}),(0,s.jsx)("div",{className:"flex items-center justify-center py-12 px-4",children:(0,s.jsxs)("div",{className:"w-full max-w-4xl bg-white p-8 rounded-lg shadow-lg",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-black mb-8 text-center",children:"اختباراتك المكتملة"}),e.length>0?(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full border border-gray-300 rounded-lg overflow-hidden",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-300 text-black",children:[(0,s.jsx)("th",{className:"text-center p-4 border-b border-gray-200 w-1/2",children:"عنوان الاختبار"}),(0,s.jsx)("th",{className:"text-center p-4 border-b border-gray-200 w-1/4",children:"الدرجة"}),(0,s.jsx)("th",{className:"text-center p-4 border-b border-gray-200 w-1/4",children:"التاريخ"}),(0,s.jsx)("th",{className:"text-center p-4 border-b border-gray-200 w-1/4",children:"المتفوقون"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>{var t,r;return(0,s.jsxs)("tr",{className:"hover:bg-gray-200 bg-white border-b border-gray-300",children:[(0,s.jsx)("td",{className:"text-center p-4 text-black",children:(null===(t=e.testId)||void 0===t?void 0:t.title)||"غير معروف"}),(0,s.jsx)("td",{className:"text-center p-4 text-black",children:e.totalScore}),(0,s.jsx)("td",{className:"text-center p-4 text-black",children:new Date(e.createdAt).toLocaleDateString("ar-EG")}),(0,s.jsx)("td",{className:"text-center p-4",children:(0,s.jsx)(c(),{href:"/top-students/".concat(null===(r=e.testId)||void 0===r?void 0:r._id),className:"inline-block bg-blue-500 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-600 transition text-sm",children:"عرض المتفوقين"})})]},e._id)})})]})}):(0,s.jsx)("p",{className:"text-black text-center text-lg",children:"لا توجد اختبارات مكتملة حتى الآن."})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[106,636,593,792],()=>t(4910)),_N_E=e.O()}]);