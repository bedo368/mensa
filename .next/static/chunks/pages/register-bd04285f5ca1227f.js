(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[787],{327:(e,l,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return s(667)}])},667:(e,l,s)=>{"use strict";s.r(l),s.d(l,{default:()=>n});var t=s(4848),a=s(6540),r=s(1106),o=s.n(r);function n(){let[e,l]=(0,a.useState)({name:"",email:"",password:"",confirmPassword:"",age:""}),[s,r]=(0,a.useState)(""),[n,c]=(0,a.useState)(!1),d=async l=>{if(l.preventDefault(),e.password!==e.confirmPassword){r("كلمة المرور غير متطابقة.");return}try{let l=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await l.json();l.ok?(localStorage.setItem("token",s.token),r("تم التسجيل بنجاح!"),c(!0)):r(s.error||"حدث خطأ ما، حاول مجددًا.")}catch(e){r("خطأ في الاتصال بالخادم.")}},i=s=>{l({...e,[s.target.name]:s.target.value})};return(0,a.useEffect)(()=>{let e=localStorage.getItem("token");e&&console.log("Token stored successfully:",e)},[n]),(0,t.jsxs)("div",{className:"flex flex-col min-h-screen bg-gradient-to-b from-purple-200 to-purple-400 py-8 px-4",children:[(0,t.jsx)("header",{className:"bg-white text-white py-4 shadow-md",children:(0,t.jsxs)("div",{className:"container mx-auto px-6 flex justify-between items-center",children:[(0,t.jsx)(o(),{href:"/",children:(0,t.jsx)("h1",{className:"text-xl font-bold",style:{color:"#3b82f6"},children:"المنصة التعليمية لمنهج الدراسات رابعة ابتدائي"})}),(0,t.jsx)(o(),{href:"/login",className:"px-4 py-2 bg-blue-500 text-white rounded-lg shadow hover:bg-blue-600 transition",children:"تسجيل الدخول"})]})}),(0,t.jsx)("div",{className:"flex-grow flex items-center justify-center",children:n?(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:"bg-green-500 text-white rounded-full p-8 shadow-lg mb-6",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"تم التسجيل بنجاح!"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"شكراً لتسجيلك في منصتنا. يمكنك الآن العودة إلى الصفحة الرئيسية."}),(0,t.jsx)(o(),{href:"/",className:"px-6 py-3 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition",children:"العودة إلى الصفحة الرئيسية"})]})}):(0,t.jsxs)("div",{className:"bg-white p-10 rounded-lg shadow-2xl max-w-lg w-full",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-center mb-6 text-gray-800",children:"تسجيل حساب جديد"}),s&&(0,t.jsx)("p",{className:"text-center mb-4 text-red-500",children:s}),(0,t.jsxs)("form",{onSubmit:d,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-800",children:"الاسم"}),(0,t.jsx)("input",{type:"text",name:"name",value:e.name,onChange:i,className:"mt-1 block w-full px-4 py-2 text-black text-lg border rounded-lg shadow-sm placeholder-gray-600 focus:ring-blue-500 focus:border-blue-500",placeholder:"أدخل اسمك الكامل",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-800",children:"البريد الإلكتروني"}),(0,t.jsx)("input",{type:"email",name:"email",value:e.email,onChange:i,className:"mt-1 block w-full px-4 py-2 text-black text-lg border rounded-lg shadow-sm placeholder-gray-600 focus:ring-blue-500 focus:border-blue-500",placeholder:"example@email.com",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-800",children:"العمر"}),(0,t.jsx)("input",{type:"number",name:"age",value:e.age,onChange:i,className:"mt-1 block w-full px-4 py-2 text-black text-lg border rounded-lg shadow-sm placeholder-gray-600 focus:ring-blue-500 focus:border-blue-500",placeholder:"أدخل عمرك",min:"5",max:"100",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-800",children:"كلمة المرور"}),(0,t.jsx)("input",{type:"password",name:"password",value:e.password,onChange:i,className:"mt-1 block w-full px-4 py-2 text-black text-lg border rounded-lg shadow-sm placeholder-gray-600 focus:ring-blue-500 focus:border-blue-500",placeholder:"********",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-800",children:"تأكيد كلمة المرور"}),(0,t.jsx)("input",{type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:i,className:"mt-1 block w-full px-4 py-2 text-black text-lg border rounded-lg shadow-sm placeholder-gray-600 focus:ring-blue-500 focus:border-blue-500",placeholder:"********",required:!0})]}),(0,t.jsx)("button",{type:"submit",className:"w-full py-3 px-4 bg-blue-600 text-white font-bold rounded-lg shadow-md hover:bg-blue-700 transition",children:"تسجيل"})]})]})}),(0,t.jsx)("footer",{className:"bg-gray-800 text-white py-4",children:(0,t.jsxs)("div",{className:"container mx-auto text-center",children:[(0,t.jsx)("p",{className:"text-sm",children:"\xa9 2024 المنصة التعليمية لمنهج الدراسات رابعة ابتدائي. جميع الحقوق محفوظة."}),(0,t.jsxs)("p",{className:"text-sm mt-2",children:[(0,t.jsx)(o(),{href:"/about",className:"underline hover:text-gray-300",children:"حول المنصة"})," ","|"," ",(0,t.jsx)(o(),{href:"/contact",className:"underline hover:text-gray-300",children:"تواصل معنا"})]})]})})]})}}},e=>{var l=l=>e(e.s=l);e.O(0,[106,636,593,792],()=>l(327)),_N_E=e.O()}]);