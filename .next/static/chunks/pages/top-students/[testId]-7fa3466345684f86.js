(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[508],{7454:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/top-students/[testId]",function(){return s(9309)}])},9309:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var l=s(4848),a=s(6540),r=s(6715),n=s(1106),c=s.n(n);function i(){let{testId:e}=(0,r.useRouter)().query,[t,s]=(0,a.useState)([]),[n,i]=(0,a.useState)(""),[d,x]=(0,a.useState)(0),[o,u]=(0,a.useState)(!0);if((0,a.useEffect)(()=>{e&&(async()=>{try{let t=await fetch("/api/tests/".concat(e));if(t.ok){let e=await t.json();i(e.title||""),x(e.questions.length||0)}else console.error("فشل في جلب بيانات الاختبار.");let l=await fetch("/api/top-students/".concat(e));if(l.ok){let e=await l.json();s(e)}else console.error("فشل في جلب بيانات الطلاب.")}catch(e){console.error("خطأ أثناء جلب البيانات:",e)}finally{u(!1)}})()},[e]),o)return(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-purple-300 to-purple-500",children:(0,l.jsx)("p",{className:"text-xl font-bold text-white",children:"جارٍ تحميل بيانات الطلاب..."})});let m=e=>["bg-yellow-100","bg-blue-100","bg-red-100","bg-gray-100"][e]||"bg-gray-100",h=(e,t)=>{let s=e/t*100;return s>=95?"⭐⭐⭐":s>=90?"⭐⭐":s>0?"⭐":""};return(0,l.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center  bg-gradient-to-b from-purple-400 to-purple-600 p-4",children:[(0,l.jsxs)("div",{className:"w-full max-w-md bg-white rounded-xl shadow-lg p-6 relative",children:[(0,l.jsx)("div",{className:"flex items-center justify-center mb-3",children:(0,l.jsx)("div",{className:"bg-yellow-300 rounded-full p-3",children:(0,l.jsx)("span",{className:"text-2xl",children:"\uD83C\uDFC6"})})}),(0,l.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-center text-purple-700 mb-1",children:n||"Space Quiz Champions!"}),(0,l.jsx)("p",{className:"text-center text-gray-500 text-sm mb-6",children:"Our Amazing Star Students!"}),t.length>0?(0,l.jsx)("div",{className:"flex flex-col gap-3",children:t.map((e,t)=>{var s;let a=m(t),r=(null===(s=e.studentId)||void 0===s?void 0:s.name)||"غير معروف",n=h(e.totalScore,d);return(0,l.jsxs)("div",{className:"rounded-lg p-4 flex items-center justify-between ".concat(a),children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[0===t?(0,l.jsx)("span",{className:"text-2xl",children:"\uD83E\uDD47"}):1===t?(0,l.jsx)("span",{className:"text-2xl",children:"\uD83E\uDD48"}):2===t?(0,l.jsx)("span",{className:"text-2xl",children:"\uD83E\uDD49"}):(0,l.jsx)("span",{className:"text-2xl",children:"⭐"}),(0,l.jsx)("p",{className:"font-semibold text-gray-800",children:r})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:"text-sm text-gray-700",children:["Score: ",e.totalScore,"/",d]}),(0,l.jsx)("p",{className:"text-yellow-500 font-semibold",children:n})]})]},e._id)})}):(0,l.jsx)("p",{className:"text-center text-lg font-semibold text-gray-700",children:"لا توجد بيانات لهذا الاختبار."}),(0,l.jsx)("p",{className:"text-center text-sm mt-6 text-gray-500",children:"Keep learning and reaching for the stars!"})]}),(0,l.jsx)("div",{className:"mt-6",children:(0,l.jsx)(c(),{href:"/",children:(0,l.jsx)("div",{className:"cursor-pointer bg-white text-purple-600 px-4 py-2  rounded-md shadow hover:bg-purple-50 font-semibold",children:"العودة للصفحة الرئيسية"})})})]})}},6715:(e,t,s)=>{e.exports=s(4009)}},e=>{var t=t=>e(e.s=t);e.O(0,[106,636,593,792],()=>t(7454)),_N_E=e.O()}]);