{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///media/abdullah/courses1/my_apps/web/f/mensa/pages/_app.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport jwtDecode from \"jsonwebtoken\"; // استيراد مكتبة jwt-decode\nimport \"../app/globals.css\";\n\nexport default function App({ Component, pageProps }) {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false); // للتحكم في حالة المينو\n\n  // التحقق من التوكن في localStorage\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n\n    if (token) {\n      setIsLoggedIn(true);\n\n      try {\n        const decodedToken = jwtDecode.decode(token); // فك تشفير التوكن\n        if (decodedToken.type === \"admin\") {\n          setIsAdmin(true); // المستخدم أدمن\n        }\n      } catch (error) {\n        console.error(\"خطأ في فك تشفير التوكن:\", error);\n      }\n    } else {\n      setIsLoggedIn(false);\n    }\n  }, []);\n\n  // تسجيل الخروج\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\"); // إزالة التوكن من localStorage\n    setIsLoggedIn(false);\n    setIsAdmin(false);\n    setIsSidebarOpen(false); // إغلاق القائمة\n    window.location.reload();\n  };\n\n  return (\n    <div className=\"h-screen flex\">\n      {/* الشريط الجانبي - دائم الظهور بجانب المحتوى في الشاشات الكبيرة */}\n      {isLoggedIn && (\n        <aside\n        style={{ backgroundColor: \"#5049e3\" }}\n\n          className={`${\n            isSidebarOpen ? \"fixed left-0 top-0 z-40\" : \"hidden\"\n          } lg:relative lg:flex lg:left-0 lg:z-auto lg:w-64 b text-white h-screen lg:h-auto lg:min-h-screen p-6 transition-all duration-300`}\n        >\n          <nav className=\"flex flex-col gap-4\">\n            <a href=\"/\" className=\"hover:bg-gray-700 p-2 rounded-lg transition\">\n              الصفحة الرئيسية\n            </a>\n            {/* إظهار لوحة التحكم فقط إذا كان المستخدم أدمن */}\n            {isAdmin && (\n              <a\n                href=\"/admin/dashboard\"\n                className=\"hover:bg-gray-700 p-2 rounded-lg transition\"\n              >\n                لوحة التحكم\n              </a>\n            )}\n            <a\n              href=\"/student/tests\"\n              className=\"hover:bg-gray-700 p-2 rounded-lg transition\"\n            >\n              الاختبارات\n            </a>\n            <a\n              href=\"/student/tests/past\"\n              className=\"hover:bg-gray-700 p-2 rounded-lg transition\"\n            >\n              الاختبارات السابقة\n            </a>\n            {/* زر تسجيل الخروج */}\n            <button\n              onClick={handleLogout}\n              className=\"mt-4 bg-red-500 hover:bg-red-600 text-white p-2 rounded-lg transition\"\n            >\n              تسجيل الخروج\n            </button>\n          </nav>\n        </aside>\n      )}\n\n      {/* المحتوى الرئيسي */}\n      <main className=\"flex-1 overflow-auto\">\n        {/* الزر الخاص بفتح القائمة الجانبية على الشاشات الصغيرة */}\n        {isLoggedIn && (\n          <button\n            className=\"lg:hidden fixed top-4 left-4 z-50 bg-gray-800 text-white p-2 rounded-md flex items-center justify-center\"\n            onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n          >\n            {isSidebarOpen ? (\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"h-6 w-6\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  d=\"M6 18L18 6M6 6l12 12\"\n                />\n              </svg>\n            ) : (\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"h-6 w-6\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  d=\"M4 6h16M4 12h16m-7 6h7\"\n                />\n              </svg>\n            )}\n          </button>\n        )}\n\n        <Component {...pageProps} />\n      </main>\n\n      {/* Overlay لإغلاق القائمة عند النقر خارجها */}\n      {isSidebarOpen && (\n        <div\n          className=\"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden cursor-pointer\"\n          onClick={() => setIsSidebarOpen(false)}\n        ></div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA,yMAAsC,2BAA2B;;;;;AAGlD,SAAS,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE;IAClD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE,QAAQ,wBAAwB;IAEnF,mCAAmC;IACnC,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,QAAQ,aAAa,OAAO,CAAC;QAEnC,IAAI,OAAO;YACT,cAAc;YAEd,IAAI;gBACF,MAAM,eAAe,iHAAA,CAAA,UAAS,CAAC,MAAM,CAAC,QAAQ,kBAAkB;gBAChE,IAAI,aAAa,IAAI,KAAK,SAAS;oBACjC,WAAW,OAAO,gBAAgB;gBACpC;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,2BAA2B;YAC3C;QACF,OAAO;YACL,cAAc;QAChB;IACF,GAAG,EAAE;IAEL,eAAe;IACf,MAAM,eAAe;QACnB,aAAa,UAAU,CAAC,UAAU,+BAA+B;QACjE,cAAc;QACd,WAAW;QACX,iBAAiB,QAAQ,gBAAgB;QACzC,OAAO,QAAQ,CAAC,MAAM;IACxB;IAEA,qBACE,qKAAC;QAAI,WAAU;;YAEZ,4BACC,qKAAC;gBACD,OAAO;oBAAE,iBAAiB;gBAAU;gBAElC,WAAW,GACT,gBAAgB,4BAA4B,SAC7C,gIAAgI,CAAC;0BAElI,cAAA,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BAAE,MAAK;4BAAI,WAAU;sCAA8C;;;;;;wBAInE,yBACC,qKAAC;4BACC,MAAK;4BACL,WAAU;sCACX;;;;;;sCAIH,qKAAC;4BACC,MAAK;4BACL,WAAU;sCACX;;;;;;sCAGD,qKAAC;4BACC,MAAK;4BACL,WAAU;sCACX;;;;;;sCAID,qKAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;;;;;;;;;;;;0BAQP,qKAAC;gBAAK,WAAU;;oBAEb,4BACC,qKAAC;wBACC,WAAU;wBACV,SAAS,IAAM,iBAAiB,CAAC;kCAEhC,8BACC,qKAAC;4BACC,OAAM;4BACN,WAAU;4BACV,MAAK;4BACL,SAAQ;4BACR,QAAO;4BACP,aAAY;sCAEZ,cAAA,qKAAC;gCACC,eAAc;gCACd,gBAAe;gCACf,GAAE;;;;;;;;;;iDAIN,qKAAC;4BACC,OAAM;4BACN,WAAU;4BACV,MAAK;4BACL,SAAQ;4BACR,QAAO;4BACP,aAAY;sCAEZ,cAAA,qKAAC;gCACC,eAAc;gCACd,gBAAe;gCACf,GAAE;;;;;;;;;;;;;;;;kCAOZ,qKAAC;wBAAW,GAAG,SAAS;;;;;;;;;;;;YAIzB,+BACC,qKAAC;gBACC,WAAU;gBACV,SAAS,IAAM,iBAAiB;;;;;;;;;;;;AAK1C"}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["file:///media/abdullah/courses1/my_apps/web/f/mensa/pages/index.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport jwtDecode from \"jsonwebtoken\";\nimport { useRouter } from \"next/router\";\n\n\nexport default function Home() {\nconst router = useRouter(); // Initialize the router\n\n  const [user, setUser] = useState(null);\n  const [menuOpen, setMenuOpen] = useState(false);\n  console.log(user)\n  // قراءة JWT من localStorage عند تحميل الصفحة\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      try {\n        const decoded = jwtDecode.decode(token);\n        setUser(decoded);\n      } catch (error) {\n        console.error(\"Invalid token:\", error);\n      }\n    }\n  }, []);\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    \n    setUser(null);\n    router.push(\"/login\");\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-blue-200 to-blue-500 py-8 px-4 \">\n      {/* Navbar */}\n      <nav className=\"bg-white shadow-md sticky top-0 z-1\">\n        <div className=\"container mx-auto flex items-center justify-between px-6 py-4\">\n          {/* Logo */}\n          <h1 className=\"text-2xl font-extrabold text-blue-600\">\n            <Link href=\"/\">المنصة التعليمية لمنهج الدراسات رابعة ابتدائي</Link>\n          </h1>\n\n          {/* Large Screen Menu */}\n          <div className=\"hidden lg:flex items-center space-x-4 space-x-reverse\">\n            {!user ? (\n              <>\n                <Link\n                  href=\"/login\"\n                  className=\"px-4 py-2 bg-blue-500 text-white rounded-lg shadow hover:bg-blue-600 transition\"\n                >\n                  تسجيل الدخول\n                </Link>\n                <Link\n                  href=\"/register\"\n                  className=\"px-4 py-2 bg-green-500 text-white rounded-lg shadow hover:bg-green-600 transition\"\n                >\n                  التسجيل\n                </Link>\n              </>\n            ) : (\n              <>\n                \n              \n                <div className=\"relative\">\n                  <button\n                    onClick={() => setMenuOpen(!menuOpen)}\n                    className=\"flex items-center space-x-2 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition\"\n                  >\n                    <span>{user.name}</span>\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      className=\"h-5 w-5\"\n                      fill=\"none\"\n                      viewBox=\"0 0 24 24\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"2\"\n                    >\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        d=\"M19 9l-7 7-7-7\"\n                      />\n                    </svg>\n                  </button>\n                 \n                </div>\n              </>\n            )}\n          </div>\n\n          {/* Mobile Menu Toggle */}\n          <div className=\"lg:hidden\">\n            <button\n              onClick={() => setMenuOpen(!menuOpen)}\n              className=\"text-gray-800 hover:text-gray-600\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"h-6 w-6\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  d=\"M4 6h16M4 12h16M4 18h16\"\n                />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        {/* Mobile Menu */}\n        {(menuOpen && !user) && (\n          <div className=\"lg:hidden bg-white shadow-md\">\n            {!user && (\n              <div className=\"flex flex-col space-y-2 p-4\">\n                <Link\n                  href=\"/login\"\n                  className=\"px-4 py-2 bg-blue-500 text-white rounded-lg shadow hover:bg-blue-600 transition\"\n                >\n                  تسجيل الدخول\n                </Link>\n                <Link\n                  href=\"/register\"\n                  className=\"px-4 py-2 bg-green-500 text-white rounded-lg shadow hover:bg-green-600 transition\"\n                >\n                  التسجيل\n                </Link>\n              </div>\n            ) }\n          </div>\n        )}\n\n      </nav>\n\n      {/* Main Section */}\n      <div className=\"container mx-auto flex flex-col lg:flex-row-reverse items-center justify-between py-16 px-6\">\n        {/* Left Section - Image */}\n        <div className=\"lg:w-1/2\">\n          <img\n            src=\"/images/kids-learning.png\"\n            alt=\"Kids Learning\"\n            className=\"rounded-lg shadow-lg transform hover:scale-105 transition\"\n          />\n        </div>\n\n        {/* Right Section - Description */}\n        <div className=\"lg:w-1/2 lg:pr-12 mt-8 lg:mt-0 text-right\">\n          <h2 className=\"text-5xl font-extrabold text-blue-800 mb-4\">\n            أهلاً وسهلاً بكم في منصتنا!\n          </h2>\n          <p className=\"text-lg text-gray-800 mb-6 leading-relaxed\">\n            المنصة التعليمية لمنهج الدراسات رابعة ابتدائي صممت لجعل التعلم ممتعًا وسهلًا للأطفال. نقدم مجموعة\n            متنوعة من الأسئلة التفاعلية والألعاب التعليمية التي تساعد على تطوير\n            المهارات وتنمية المعرفة في بيئة مشوقة وآمنة.\n          </p>\n        </div>\n      </div>\n\n      {/* Features Section */}\n      <div className=\"container mx-auto py-12\">\n        <h2 className=\"text-4xl font-bold text-center text-white mb-8\">\n          مميزات منصتنا\n        </h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 text-center\">\n          <div className=\"p-6 bg-yellow-100 rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition\">\n            <img\n              src=\"/images/kid-question.png\"\n              alt=\"Interactive Questions\"\n              className=\"w-16 mx-auto mb-4\"\n            />\n            <h3 className=\"text-2xl font-semibold text-yellow-800 mb-2\">\n              أسئلة ممتعة\n            </h3>\n            <p className=\"text-gray-700\">\n              أسئلة تعليمية تفاعلية تناسب مختلف الأعمار والاهتمامات.\n            </p>\n          </div>\n          <div className=\"p-6 bg-pink-100 rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition\">\n            <img\n              src=\"/images/kid-result.png\"\n              alt=\"Instant Results\"\n              className=\"w-16 mx-auto mb-4\"\n            />\n            <h3 className=\"text-2xl font-semibold text-pink-800 mb-2\">\n              نتائج فورية\n            </h3>\n            <p className=\"text-gray-700\">\n              احصل على نتائج فورية تساعدك على تحسين مستواك.\n            </p>\n          </div>\n          <div className=\"p-6 bg-green-100 rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition\">\n            <img\n              src=\"/images/good-exper.png\"\n              alt=\"Fun Learning\"\n              className=\"w-16 mx-auto mb-4\"\n            />\n            <h3 className=\"text-2xl font-semibold text-green-800 mb-2\">\n              تجربة مبهجة\n            </h3>\n            <p className=\"text-gray-700\">\n              واجهة سهلة ومشوقة للأطفال لتعلم ممتع ومفيد.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 688, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}